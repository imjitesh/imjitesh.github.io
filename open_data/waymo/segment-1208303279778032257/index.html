<!DOCTYPE html>
<html lang="en">

<head>
	<title>Hivemind - View Publicly Accessible 3D Point Clouds</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
	<style>
		.overlay {
			position: absolute;
			bottom: 0;
			left: 0;
			width: 100%;
			height: 160px;
			z-index: 10;
			background-color: rgba(0, 0, 0, 0);
			/*dim the background*/
		}
		.top {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			z-index: 10;
			background-color: rgba(0, 0, 0, 0);
			/*dim the background*/
		}
		.images {
			position: absolute;
			top: 30px;
			left: 0;
			width: 100%;
			height:25%;
			z-index: 10;
			background-color: rgba(0, 0, 0, 0);
			/*dim the background*/
		}

		.myButton {
			background-color: #ffffff;
			-moz-border-radius: 4px;
			-webkit-border-radius: 4px;
			border-radius: 4px;
			display: inline-block;
			cursor: pointer;
			color: #000000;
			font-family: Verdana;
			font-size: 10px;
			text-decoration: none;
			width: 24px;
			height: 24px;
			line-height: 24px;
			text-align: center;
			margin: 4px;
		}

		.myButton:hover {
			background-color: #ffffff;
		}

		.myButton:active {
			top: 1px;
		}
	</style>
</head>

<body style="overflow: hidden;">
	<div class="top">
		<div class="row" style="text-align:center; color:#FFFFFF;">
			<div class="col-md-3"></div>
			<div class="col-md-6">
				<h4 style="font-weight:200;">waymo-od/segment-1208303279778032257</h4>
			</div>
			<div class="col-md-3"></div>
		</div>
	</div>
	<div class="images">
		<div class="row" style="padding-left:4%;padding-right:3%;height:100%;">
			<div class="col-md-9"></div>
			<div class="col-md-3" style="background-color:rgba(255,255,255,0.3);height:100%;border-radius:3px;max-width:23%;padding:0;">
				<canvas id="viewport" style="height:100%;width:100%;"></canvas>
			</div>
		</div>
	</div>
	<div id="intro"></div>
	<div class="overlay" style="padding-left:4%;padding-right:4%;">
		<div style="float:left;">
			<a href="#" class="myButton">Q</a>
			<a href="#" class="myButton">W</a>
			<a href="#" class="myButton">E</a>
			<br>
			<a href="#" class="myButton">A</a>
			<a href="#" class="myButton">S</a>
			<a href="#" class="myButton">D</a>
		</div>

		<div style="float:right;">

			<a href="#" class="myButton" style="margin-left:38.5%;">&uarr;</a>

			<br>
			<a href="#" class="myButton">&larr;</a>
			<a href="#" class="myButton">&darr;</a>
			<a href="#" class="myButton">&rarr;</a>
		</div>
		<br><br><br><br>
		<p style="color:#FFFFFF;" id="frame-info">1/10</p>
		<div class="progress" style="height:8px;">
			<div class="progress-bar" id="cur-frame-bar" role="progressbar" style="width:0%; transition:none;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
			<div class="progress-bar" id="load-frame-bar" role="progressbar" style="background-color:#BBBBBB;transition:none;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
		</div>
	</div>
	<script type="text/javascript">
	var canvas = document.getElementById('viewport');
	context = canvas.getContext('2d');
	make_base('https://images.unsplash.com/photo-1494783367193-149034c05e8f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80');
	function make_base(url){
		base_image = new Image();
		base_image.src = url;
		base_image.onload = function(){
			var ratio = base_image.width/base_image.height;
			var imgWidth = canvas.offsetWidth;
			var imgHeight = imgWidth / ratio;
			console.log(canvas.offsetHeight, canvas.offsetWidth, imgHeight, imgWidth, ratio);
			if(imgHeight <= canvas.offsetHeight){
				context.drawImage(base_image, 0, 0, imgWidth, imgHeight);
			}
			else{
				imgHeight = canvas.offsetHeight;
				imgWidth = canvas.offsetHeight*ratio;
				console.log(canvas.offsetHeight, canvas.offsetWidth, imgHeight, imgWidth, ratio);
				context.drawImage(base_image, 0, 0, canvas.offsetHeight*ratio, canvas.offsetHeight);
			}

		}
	}
	let pcdFiles = [
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000000.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000001.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000002.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000003.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000004.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000005.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000006.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000007.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000008.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000009.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000010.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000011.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000012.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000013.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000014.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000015.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000016.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000017.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000018.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000019.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000020.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000021.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000022.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000023.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000024.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000025.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000026.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000027.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000028.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000029.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000030.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000031.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000032.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000033.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000034.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000035.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000036.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000037.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000038.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000039.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000040.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000041.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000042.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000043.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000044.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000045.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000046.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000047.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000048.bin',
	  'https://scalar-prod.s3.ap-south-1.amazonaws.com/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar/frame_00000049.bin'
	]
	var lidarLabelUrl = "https://s3-ap-south-1.amazonaws.com/scalar-prod/public/waymo/segment-1208303279778032257_1360_000_1380_000/lidar_labels/segment-1208303279778032257_1360_000_1380_000_lidar_labels.json";
	</script>
	<script type="module" src="/js/hanowa.main-1.0.js">
	</script>
</body>

</html>
